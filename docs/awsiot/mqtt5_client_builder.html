
<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>awsiot.mqtt5_client_builder &#8212; AWS IoT Device SDK v2 for Python  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d75fae25" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=93be7416" />
    
    <script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="awsiot.iotidentity" href="iotidentity.html" />
    <link rel="prev" title="awsiot.mqtt_connection_builder" href="mqtt_connection_builder.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="iotidentity.html" title="awsiot.iotidentity"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="mqtt_connection_builder.html" title="awsiot.mqtt_connection_builder"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">AWS IoT Device SDK v2 for Python  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">awsiot.mqtt5_client_builder</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-awsiot.mqtt5_client_builder">
<span id="awsiot-mqtt5-client-builder"></span><h1>awsiot.mqtt5_client_builder<a class="headerlink" href="#module-awsiot.mqtt5_client_builder" title="Link to this heading">¶</a></h1>
<p>Builder functions to create a <a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.Client" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.mqtt5.Client</span></code></a>, configured for use with AWS IoT Core.
The following keyword arguments are common to all builder functions:</p>
<p>Required Keyword Arguments:</p>
<blockquote>
<div><p><strong>endpoint</strong> (<cite>str</cite>): Host name of AWS IoT server.</p>
</div></blockquote>
<dl>
<dt>Optional Keyword Arguments (omit, or set <cite>None</cite> to get default value):</dt><dd><dl class="simple">
<dt><strong>client_options</strong> (<a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.ClientOptions" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.mqtt5.ClientOptions</span></code></a>): This dataclass can be used to to apply all</dt><dd><p>configuration options for Client creation. Any options set within will supercede defaults
assigned by the builder. Any omitted arguments within this class will be filled by additional
keyword arguments provided to the builder or be set to their default values.</p>
</dd>
<dt><strong>connect_options</strong> (<a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.ConnectPacket" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.mqtt5.ConnectPacket</span></code></a>): This dataclass can be used to apply connection</dt><dd><p>options for the client. Any options set within will supercede defaults assigned by the builder but
will not overwrite options set by connect_options included within a client_options keyword argument.
Any omitted arguments within this class will be assigned values of keyword arguments provided to
the builder.</p>
</dd>
<dt><strong>client_id</strong> (<cite>str</cite>): ID to place in CONNECT packet. Must be unique across all devices/clients.</dt><dd><p>If an ID is already in use, the other client will be disconnected. If one is not provided,
AWS IoT server will assign a unique ID for use and return it in the CONNACK packet.</p>
</dd>
<dt><strong>port</strong> (<cite>int</cite>): Override default server port.</dt><dd><p>Default port is 443 if system supports ALPN or websockets are being used.
Otherwise, default port is 8883.</p>
</dd>
<dt><strong>client_bootstrap</strong> (<a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/io.html#awscrt.io.ClientBootstrap" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.io.ClientBootstrap</span></code></a>): Client bootstrap used to establish connection.</dt><dd><p>The ClientBootstrap will default to the static default (Io.ClientBootstrap.get_or_create_static_default)
if the argument is omitted or set to ‘None’.</p>
</dd>
</dl>
<p><strong>http_proxy_options</strong> (<a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/http.html#awscrt.http.HttpProxyOptions" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.http.HttpProxyOptions</span></code></a>): HTTP proxy options to use</p>
<dl class="simple">
<dt><strong>keep_alive_interval_sec</strong> (<cite>int</cite>): The maximum time interval, in seconds, that is permitted to elapse</dt><dd><p>between the point at which the client finishes transmitting one MQTT packet and the point it starts
sending the next.  The client will use PINGREQ packets to maintain this property. If the responding
CONNACK contains a keep alive property value, then that is the negotiated keep alive value. Otherwise,
the keep alive sent by the client is the negotiated value. keep_alive_interval_sec must be set to at
least 1 second greater than ping_timeout_ms (default 30,000 ms) or it will fail validation.</p>
</dd>
</dl>
<p><strong>username</strong> (<cite>str</cite>): Username to connect with.</p>
<p><strong>password</strong> (<cite>str</cite>): Password to connect with.</p>
<dl class="simple">
<dt><strong>session_expiry_interval_sec</strong> (<cite>int</cite>): A time interval, in seconds, that the client requests the server</dt><dd><p>to persist this connection’s MQTT session state for.  Has no meaning if the client has not been
configured to rejoin sessions.  Must be non-zero in order to successfully rejoin a session. If the
responding CONNACK contains a session expiry property value, then that is the negotiated session
expiry value.  Otherwise, the session expiry sent by the client is the negotiated value.</p>
</dd>
<dt><strong>request_response_information</strong> (<cite>bool</cite>): If true, requests that the server send response information in</dt><dd><p>the subsequent CONNACK.  This response information may be used to set up request-response implementations
over MQTT, but doing so is outside the scope of the MQTT5 spec and client.</p>
</dd>
<dt><strong>request_problem_information</strong> (<cite>bool</cite>): If true, requests that the server send additional diagnostic</dt><dd><p>information (via response string or user properties) in DISCONNECT or CONNACK packets from the server.</p>
</dd>
<dt><strong>receive_maximum</strong> (<cite>int</cite>): Notifies the server of the maximum number of in-flight QoS 1 and 2 messages the</dt><dd><p>client is willing to handle.  If omitted or null, then no limit is requested.</p>
</dd>
<dt><strong>maximum_packet_size</strong> (<cite>int</cite>): Notifies the server of the maximum packet size the client is willing to handle.</dt><dd><p>If omitted or null, then no limit beyond the natural limits of MQTT packet size is requested.</p>
</dd>
<dt><strong>will_delay_interval_sec</strong> (<cite>int</cite>): A time interval, in seconds, that the server should wait (for a session</dt><dd><p>reconnection) before sending the will message associated with the connection’s session.  If omitted or
null, the server will send the will when the associated session is destroyed.  If the session is destroyed
before a will delay interval has elapsed, then the will must be sent at the time of session destruction.</p>
</dd>
<dt><strong>will</strong> (<a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.PublishPacket" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.mqtt5.PublishPacket</span></code></a>): The definition of a message to be published when the connection’s</dt><dd><p>session is destroyed by the server or when the will delay interval has elapsed, whichever comes first.  If
null, then nothing will be sent.</p>
</dd>
<dt><strong>user_properties</strong> (<cite>Sequence</cite> [<a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.UserProperty" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.mqtt5.UserProperty</span></code></a>]): List of MQTT5 user properties included</dt><dd><p>with the packet.</p>
</dd>
<dt><strong>session_behavior</strong> (<a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.ClientSessionBehaviorType" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.mqtt5.ClientSessionBehaviorType</span></code></a>): How the MQTT5 client should behave with</dt><dd><p>respect to MQTT sessions.</p>
</dd>
<dt><strong>extended_validation_and_flow_control_options</strong> (<a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.ExtendedValidationAndFlowControlOptions" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.mqtt5.ExtendedValidationAndFlowControlOptions</span></code></a>):</dt><dd><p>The additional controls for client behavior with respect to operation validation and flow control; these
checks go beyond the base MQTT5 spec to respect limits of specific MQTT brokers. If argument is omitted or null,
then set to AWS_IOT_CORE_DEFAULTS.</p>
</dd>
<dt><strong>offline_queue_behavior</strong> (<a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.ClientOperationQueueBehaviorType" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.mqtt5.ClientOperationQueueBehaviorType</span></code></a>): Returns how disconnects</dt><dd><p>affect the queued and in-progress operations tracked by the client.  Also controls how new operations are
handled while the client is not connected.  In particular, if the client is not connected, then any operation
that would be failed on disconnect (according to these rules) will also be rejected.</p>
</dd>
<dt><strong>topic_aliasing_options</strong> (<a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.TopicAliasingOptions" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.mqtt5.TopicAliasingOptions</span></code></a>): Configuration options for how the client</dt><dd><p>should use the topic aliasing features of MQTT5</p>
</dd>
<dt><strong>retry_jitter_mode</strong> (<a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.ExponentialBackoffJitterMode" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.mqtt5.ExponentialBackoffJitterMode</span></code></a>): How the reconnect delay is modified</dt><dd><p>in order to smooth out the distribution of reconnection attempt timepoints for a large set of reconnecting
clients.</p>
</dd>
<dt><strong>min_reconnect_delay_ms</strong> (<cite>int</cite>): The minimum amount of time to wait to reconnect after a disconnect.</dt><dd><p>Exponential backoff is performed with jitter after each connection failure.</p>
</dd>
</dl>
<p><strong>max_reconnect_delay_ms</strong> (<cite>int</cite>): The maximum amount of time to wait to reconnect after a disconnect.
Exponential backoff is performed with jitter after each connection failure.</p>
<dl>
<dt><strong>min_connected_time_to_reset_reconnect_delay_ms</strong> (<cite>int</cite>): The amount of time that must elapse with an</dt><dd><p>established connection before the reconnect delay is reset to the minimum. This helps alleviate
bandwidth-waste in fast reconnect cycles due to permission failures on operations.</p>
</dd>
<dt><strong>ping_timeout_ms</strong> (<cite>int</cite>): The time interval to wait after sending a PINGREQ for a PINGRESP to arrive. If one</dt><dd><p>does not arrive, the client will close the current connection.</p>
</dd>
<dt><strong>connack_timeout_ms</strong> (<cite>int</cite>): The time interval to wait after sending a CONNECT request for a CONNACK to arrive.</dt><dd><p>If one does not arrive, the connection will be shut down.</p>
</dd>
<dt><strong>ack_timeout_sec</strong> (<cite>int</cite>): The time interval to wait for an ack after sending a QoS 1+ PUBLISH, SUBSCRIBE,</dt><dd><p>or UNSUBSCRIBE before failing the operation.</p>
</dd>
<dt><strong>on_publish_received</strong> (<cite>Callable</cite>): Callback invoked for all publish packets received by client.</dt><dd><p>The function should take the following arguments and return nothing:</p>
<ul>
<li><dl class="simple">
<dt><cite>publish_received_data</cite> (<a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.PublishReceivedData" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.mqtt5.PublishReceivedData</span></code></a>): Dataclass</dt><dd><p>containing the following:</p>
</dd>
</dl>
<ul class="simple">
<li><p><cite>publish_packet</cite>: (<a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.PublishPacket" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.mqtt5.PublishPacket</span></code></a>): Data model of an <cite>MQTT5 PUBLISH &lt;https://docs.oasis-open.org/mqtt/mqtt/v5.0/os/mqtt-v5.0-os.html#_Toc3901100&gt;</cite> _ packet.</p></li>
</ul>
</li>
</ul>
</dd>
<dt><strong>on_lifecycle_stopped</strong> (<cite>Callable</cite>): Callback invoked for Lifecycle Event Stopped.</dt><dd><p>The function should take the following arguments and return nothing:</p>
<ul class="simple">
<li><p><cite>lifecycle_stopped_data</cite> (<a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.LifecycleStoppedData" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.mqtt5.LifecycleStoppedData</span></code></a>): Currently unused dataclass.</p></li>
</ul>
</dd>
<dt><strong>on_lifecycle_attempting_connect</strong> (<cite>Callable</cite>): Callback invoked for Lifecycle Event Attempting Connect.</dt><dd><p>The function should take the following arguments and return nothing:</p>
<ul class="simple">
<li><dl class="simple">
<dt><cite>lifecycle_attempting_connect_data</cite> (<a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.LifecycleAttemptingConnectData" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.mqtt5.LifecycleAttemptingConnectData</span></code></a>): Currently</dt><dd><p>unused dataclass.</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt><strong>on_lifecycle_connection_success</strong> (<cite>Callable</cite>): Callback invoked for Lifecycle Event Connection Success.</dt><dd><p>The function should take the following arguments and return nothing:</p>
<ul>
<li><dl class="simple">
<dt><cite>lifecycle_connect_success_data</cite> (<a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.LifecycleConnectSuccessData" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.mqtt5.LifecycleConnectSuccessData</span></code></a>): Dataclass</dt><dd><p>containing the following:</p>
</dd>
</dl>
<ul class="simple">
<li><p><cite>connack_packet</cite> (<a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.ConnackPacket" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.mqtt5.ConnackPacket</span></code></a>): Data model of an <a class="reference external" href="https://docs.oasis-open.org/mqtt/mqtt/v5.0/os/mqtt-v5.0-os.html#_Toc3901074">MQTT5 CONNACK</a> packet.</p></li>
<li><p><cite>negotiated_settings</cite> (<a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.NegotiatedSettings" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.mqtt5.NegotiatedSettings</span></code></a>): Mqtt behavior settings that have been dynamically negotiated as part of the CONNECT/CONNACK exchange.</p></li>
</ul>
</li>
</ul>
</dd>
<dt><strong>on_lifecycle_connection_failure</strong> (<cite>Callable</cite>): Callback invoked for Lifecycle Event Connection Failure.</dt><dd><p>The function should take the following arguments and return nothing:</p>
<ul>
<li><dl class="simple">
<dt><cite>lifecycle_connection_failure_data</cite> (<a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.LifecycleConnectFailureData" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.mqtt5.LifecycleConnectFailureData</span></code></a>): Dataclass</dt><dd><p>containing the following:</p>
</dd>
</dl>
<ul class="simple">
<li><p><cite>connack_packet</cite> (<a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.ConnackPacket" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.mqtt5.ConnackPacket</span></code></a>): Data model of an <a class="reference external" href="https://docs.oasis-open.org/mqtt/mqtt/v5.0/os/mqtt-v5.0-os.html#_Toc3901074">MQTT5 CONNACK</a> packet.</p></li>
<li><p><cite>error_code</cite> (<cite>int</cite>): Exception which caused connection failure.</p></li>
</ul>
</li>
</ul>
</dd>
<dt><strong>on_lifecycle_disconnection</strong> (<cite>Callable</cite>): Callback invoked for Lifecycle Event Disconnection.</dt><dd><p>The function should take the following arguments and return nothing:</p>
<ul>
<li><dl class="simple">
<dt><cite>lifecycle_disconnect_data</cite> (<a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.LifecycleDisconnectData" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.mqtt5.LifecycleDisconnectData</span></code></a>): Dataclass</dt><dd><p>containing the following:</p>
</dd>
</dl>
<ul class="simple">
<li><p><cite>disconnect_packet</cite> (<a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.DisconnectPacket" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.mqtt5.DisconnectPacket</span></code></a>): Data model of an <a class="reference external" href="https://docs.oasis-open.org/mqtt/mqtt/v5.0/os/mqtt-v5.0-os.html#_Toc3901205">MQTT5 DISCONNECT</a> packet.</p></li>
<li><p><cite>error_code</cite> (<cite>int</cite>): Exception which caused disconnection.</p></li>
</ul>
</li>
</ul>
</dd>
</dl>
<p><strong>ca_filepath</strong> (<cite>str</cite>): Override default trust store with CA certificates from this PEM formatted file.</p>
<p><strong>ca_dirpath</strong> (<cite>str</cite>): Override default trust store with CA certificates loaded from this directory (Unix only).</p>
<p><strong>ca_bytes</strong> (<cite>bytes</cite>): Override default trust store with CA certificates from these PEM formatted bytes.</p>
<p><strong>cipher_pref</strong> (<a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/io.html#awscrt.io.TlsCipherPref" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.io.TlsCipherPref</span></code></a>): Cipher preference to use for TLS connection. Default is <cite>TlsCipherPref.DEFAULT</cite>.</p>
<dl class="simple">
<dt><strong>enable_metrics_collection</strong> (<cite>bool</cite>): Whether to send the SDK version number in the CONNECT packet.</dt><dd><p>Default is True.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py function">
<dt class="sig sig-object py" id="awsiot.mqtt5_client_builder.mtls_from_path">
<span class="sig-prename descclassname"><span class="pre">awsiot.mqtt5_client_builder.</span></span><span class="sig-name descname"><span class="pre">mtls_from_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cert_filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pri_key_filepath</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#awsiot.mqtt5_client_builder.mtls_from_path" title="Link to this definition">¶</a></dt>
<dd><p>This builder creates an <a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.Client" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.mqtt5.Client</span></code></a>, configured for an mTLS MQTT5 Client to AWS IoT.
TLS arguments are passed as filepaths.</p>
<p>This function takes all <a class="reference internal" href="#module-awsiot.mqtt5_client_builder" title="awsiot.mqtt5_client_builder"><code class="xref py py-mod docutils literal notranslate"><span class="pre">common</span> <span class="pre">arguments</span></code></a>
described at the top of this doc, as well as…</p>
<dl class="field-list simple">
<dt class="field-odd">Keyword Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cert_filepath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – Path to certificate file.</p></li>
<li><p><strong>pri_key_filepath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – Path to private key file.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.Client" title="(in awscrt)"><em>Client</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="awsiot.mqtt5_client_builder.mtls_from_bytes">
<span class="sig-prename descclassname"><span class="pre">awsiot.mqtt5_client_builder.</span></span><span class="sig-name descname"><span class="pre">mtls_from_bytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cert_bytes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pri_key_bytes</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#awsiot.mqtt5_client_builder.mtls_from_bytes" title="Link to this definition">¶</a></dt>
<dd><p>This builder creates an <a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.Client" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.mqtt5.Client</span></code></a>, configured for an mTLS MQTT5 Client to AWS IoT.
TLS arguments are passed as in-memory bytes.</p>
<p>This function takes all <a class="reference internal" href="#module-awsiot.mqtt5_client_builder" title="awsiot.mqtt5_client_builder"><code class="xref py py-mod docutils literal notranslate"><span class="pre">common</span> <span class="pre">arguments</span></code></a>
described at the top of this doc, as well as…</p>
<dl class="field-list simple">
<dt class="field-odd">Keyword Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cert_bytes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.14)"><em>bytes</em></a>) – Certificate file bytes.</p></li>
<li><p><strong>pri_key_bytes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.14)"><em>bytes</em></a>) – Private key bytes.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.Client" title="(in awscrt)"><em>Client</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="awsiot.mqtt5_client_builder.mtls_with_pkcs11">
<span class="sig-prename descclassname"><span class="pre">awsiot.mqtt5_client_builder.</span></span><span class="sig-name descname"><span class="pre">mtls_with_pkcs11</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pkcs11_lib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slot_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">token_label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">private_key_label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cert_filepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cert_bytes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#awsiot.mqtt5_client_builder.mtls_with_pkcs11" title="Link to this definition">¶</a></dt>
<dd><p>This builder creates an <a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.Client" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.mqtt5.Client</span></code></a>, configured for an mTLS MQTT connection to AWS IoT,
using a PKCS#11 library for private key operations.</p>
<p>NOTE: Unix only</p>
<p>This function takes all <a class="reference internal" href="#module-awsiot.mqtt5_client_builder" title="awsiot.mqtt5_client_builder"><code class="xref py py-mod docutils literal notranslate"><span class="pre">common</span> <span class="pre">arguments</span></code></a>
described at the top of this doc, as well as…</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pkcs11_lib</strong> (<a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/io.html#awscrt.io.Pkcs11Lib" title="(in awscrt)"><em>Pkcs11Lib</em></a>) – Use this PKCS#11 library</p></li>
<li><p><strong>user_pin</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – User PIN, for logging into the PKCS#11 token.
Pass <cite>None</cite> to log into a token with a “protected authentication path”.</p></li>
<li><p><strong>slot_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em> | </em><em>None</em>) – ID of slot containing PKCS#11 token.
If not specified, the token will be chosen based on other criteria (such as token label).</p></li>
<li><p><strong>token_label</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>None</em>) – Label of the PKCS#11 token to use.
If not specified, the token will be chosen based on other criteria (such as slot ID).</p></li>
<li><p><strong>private_key_label</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>None</em>) – Label of private key object on PKCS#11 token.
If not specified, the key will be chosen based on other criteria
(such as being the only available private key on the token).</p></li>
<li><p><strong>cert_filepath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> | </em><em>None</em>) – Use this X.509 certificate (file on disk).
The certificate must be PEM-formatted. The certificate may be
specified by other means instead (ex: <cite>cert_bytes</cite>)</p></li>
<li><p><strong>cert_bytes</strong> (<em>Optional</em><em>[</em><em>Union</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.14)"><em>bytes</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytearray" title="(in Python v3.14)"><em>bytearray</em></a><em>]</em><em>]</em>) – Use this X.509 certificate (contents in memory).
The certificate must be PEM-formatted. The certificate may be
specified by other means instead (ex: <cite>cert_filepath</cite>)</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.Client" title="(in awscrt)"><em>Client</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="awsiot.mqtt5_client_builder.mtls_with_pkcs12">
<span class="sig-prename descclassname"><span class="pre">awsiot.mqtt5_client_builder.</span></span><span class="sig-name descname"><span class="pre">mtls_with_pkcs12</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pkcs12_filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pkcs12_password</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#awsiot.mqtt5_client_builder.mtls_with_pkcs12" title="Link to this definition">¶</a></dt>
<dd><p>This builder creates an <a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt.html#awscrt.mqtt.Connection" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.mqtt.Connection</span></code></a>, configured for an mTLS MQTT connection to AWS IoT,
using a PKCS#12 certificate.</p>
<p>NOTE: MacOS only</p>
<p>This function takes all <a class="reference internal" href="mqtt_connection_builder.html#module-awsiot.mqtt_connection_builder" title="awsiot.mqtt_connection_builder"><code class="xref py py-mod docutils literal notranslate"><span class="pre">common</span> <span class="pre">arguments</span></code></a>
described at the top of this doc, as well as…</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pkcs12_filepath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – Path to the PKCS12 file to use</p></li>
<li><p><strong>pkcs12_password</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – The password for the PKCS12 file.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt.html#awscrt.mqtt.Connection" title="(in awscrt)"><em>Connection</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="awsiot.mqtt5_client_builder.mtls_with_windows_cert_store_path">
<span class="sig-prename descclassname"><span class="pre">awsiot.mqtt5_client_builder.</span></span><span class="sig-name descname"><span class="pre">mtls_with_windows_cert_store_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cert_store_path</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#awsiot.mqtt5_client_builder.mtls_with_windows_cert_store_path" title="Link to this definition">¶</a></dt>
<dd><p>This builder creates an <a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.Client" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.mqtt5.Client</span></code></a>, configured for an mTLS MQTT5 Client to AWS IoT,
using a client certificate in a Windows certificate store.</p>
<p>NOTE: Windows only</p>
<p>This function takes all <a class="reference internal" href="#module-awsiot.mqtt5_client_builder" title="awsiot.mqtt5_client_builder"><code class="xref py py-mod docutils literal notranslate"><span class="pre">common</span> <span class="pre">arguments</span></code></a>
described at the top of this doc, as well as…</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cert_store_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – Path to certificate in a Windows certificate store.
The path must use backslashes and end with the certificate’s thumbprint.
Example: <code class="docutils literal notranslate"><span class="pre">CurrentUser\MY\A11F8A9B5DF5B98BA3508FBCA575D09570E0D2C6</span></code></p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.Client" title="(in awscrt)"><em>Client</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="awsiot.mqtt5_client_builder.websockets_with_default_aws_signing">
<span class="sig-prename descclassname"><span class="pre">awsiot.mqtt5_client_builder.</span></span><span class="sig-name descname"><span class="pre">websockets_with_default_aws_signing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">region</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">credentials_provider</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">websocket_proxy_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#awsiot.mqtt5_client_builder.websockets_with_default_aws_signing" title="Link to this definition">¶</a></dt>
<dd><p>This builder creates an <a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.Client" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.mqtt5.Client</span></code></a>, configured for an MQTT5 Client over websockets to AWS IoT.
The websocket handshake is signed using credentials from the credentials_provider.</p>
<p>This function takes all <a class="reference internal" href="#module-awsiot.mqtt5_client_builder" title="awsiot.mqtt5_client_builder"><code class="xref py py-mod docutils literal notranslate"><span class="pre">common</span> <span class="pre">arguments</span></code></a>
described at the top of this doc, as well as…</p>
<dl class="field-list simple">
<dt class="field-odd">Keyword Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>region</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – AWS region to use when signing.</p></li>
<li><p><strong>credentials_provider</strong> (<a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/auth.html#awscrt.auth.AwsCredentialsProvider" title="(in awscrt)"><em>awscrt.auth.AwsCredentialsProvider</em></a>) – Source of AWS credentials to use when signing.</p></li>
<li><p><strong>websocket_proxy_options</strong> (<a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/http.html#awscrt.http.HttpProxyOptions" title="(in awscrt)"><em>awscrt.http.HttpProxyOptions</em></a>) – Deprecated,
for proxy settings use <cite>http_proxy_options</cite> (described in
<a class="reference internal" href="#module-awsiot.mqtt5_client_builder" title="awsiot.mqtt5_client_builder"><code class="xref py py-mod docutils literal notranslate"><span class="pre">common</span> <span class="pre">arguments</span></code></a>)</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.Client" title="(in awscrt)"><em>Client</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="awsiot.mqtt5_client_builder.websockets_with_custom_handshake">
<span class="sig-prename descclassname"><span class="pre">awsiot.mqtt5_client_builder.</span></span><span class="sig-name descname"><span class="pre">websockets_with_custom_handshake</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">websocket_handshake_transform</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">websocket_proxy_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#awsiot.mqtt5_client_builder.websockets_with_custom_handshake" title="Link to this definition">¶</a></dt>
<dd><p>This builder creates an <a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.Client" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.mqtt5.Client</span></code></a>, configured for an MQTT5 Client over websockets,
with a custom function to transform the websocket handshake request before it is sent to the server.</p>
<p>This function takes all <a class="reference internal" href="#module-awsiot.mqtt5_client_builder" title="awsiot.mqtt5_client_builder"><code class="xref py py-mod docutils literal notranslate"><span class="pre">common</span> <span class="pre">arguments</span></code></a>
described at the top of this doc, as well as…</p>
<dl class="field-list simple">
<dt class="field-odd">Keyword Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>websocket_handshake_transform</strong> (<em>Callable</em>) – <p>Function to transform websocket handshake request.
If provided, function is called each time a websocket connection is attempted.
The function may modify the HTTP request before it is sent to the server.
See <a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt.html#awscrt.mqtt.WebsocketHandshakeTransformArgs" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.mqtt.WebsocketHandshakeTransformArgs</span></code></a> for more info.
Function should take the following arguments and return nothing:</p>
<blockquote>
<div><ul>
<li><p><cite>transform_args</cite> (<a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.WebsocketHandshakeTransformArgs" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.mqtt5.WebsocketHandshakeTransformArgs</span></code></a>):
Contains HTTP request to be transformed. Function must call
<cite>transform_args.done()</cite> when complete.</p></li>
<li><p><cite>**kwargs</cite> (dict): Forward-compatibility kwargs.</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>websocket_proxy_options</strong> (<a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/http.html#awscrt.http.HttpProxyOptions" title="(in awscrt)"><em>awscrt.http.HttpProxyOptions</em></a>) – Deprecated,
for proxy settings use <cite>http_proxy_options</cite> (described in
<a class="reference internal" href="#module-awsiot.mqtt5_client_builder" title="awsiot.mqtt5_client_builder"><code class="xref py py-mod docutils literal notranslate"><span class="pre">common</span> <span class="pre">arguments</span></code></a>)</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.Client" title="(in awscrt)"><em>Client</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="awsiot.mqtt5_client_builder.direct_with_custom_authorizer">
<span class="sig-prename descclassname"><span class="pre">awsiot.mqtt5_client_builder.</span></span><span class="sig-name descname"><span class="pre">direct_with_custom_authorizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">auth_username</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auth_authorizer_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auth_authorizer_signature</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auth_password</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auth_token_key_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auth_token_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#awsiot.mqtt5_client_builder.direct_with_custom_authorizer" title="Link to this definition">¶</a></dt>
<dd><p>This builder creates an <a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.Client" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.mqtt5.Client</span></code></a>, configured for an MQTT5 Client using a custom
authorizer. This function will set the username, port, and TLS options.</p>
<p>This function takes all <a class="reference internal" href="#module-awsiot.mqtt5_client_builder" title="awsiot.mqtt5_client_builder"><code class="xref py py-mod docutils literal notranslate"><span class="pre">common</span> <span class="pre">arguments</span></code></a>
described at the top of this doc, as well as…</p>
<dl class="field-list simple">
<dt class="field-odd">Keyword Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>auth_username</strong> (<cite>str</cite>) – The username to use with the custom authorizer.
If provided, the username given will be passed when connecting to the custom authorizer.
If not provided, it will check to see if a username has already been set (via username=”example”)
and will use that instead.  Custom authentication parameters will be appended as appropriate
to any supplied username value.</p></li>
<li><p><strong>auth_password</strong> (<cite>str</cite>) – The password to use with the custom authorizer.
If not provided, then no password will be sent in the initial CONNECT packet.</p></li>
<li><p><strong>auth_authorizer_name</strong> (<cite>str</cite>) – Name of the custom authorizer to use.
Required if the endpoint does not have a default custom authorizer associated with it.  It is strongly
suggested to URL-encode this value; the SDK will not do so for you.</p></li>
<li><p><strong>auth_authorizer_signature</strong> (<cite>str</cite>) – The digital signature of the token value in the <cite>auth_token_value</cite>
parameter. The signature must be based on the private key associated with the custom authorizer.  The
signature must be base64 encoded.
Required if the custom authorizer has signing enabled.</p></li>
<li><p><strong>auth_token_key_name</strong> (<cite>str</cite>) – Key used to extract the custom authorizer token from MQTT username query-string
properties.
Required if the custom authorizer has signing enabled.  It is strongly suggested to URL-encode
this value; the SDK will not do so for you.</p></li>
<li><p><strong>auth_token_value</strong> (<cite>str</cite>) – An opaque token value. This value must be signed by the private key associated with
the custom authorizer and the result passed in via the <cite>auth_authorizer_signature</cite> parameter.
Required if the custom authorizer has signing enabled.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.Client" title="(in awscrt)"><em>Client</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="awsiot.mqtt5_client_builder.websockets_with_custom_authorizer">
<span class="sig-prename descclassname"><span class="pre">awsiot.mqtt5_client_builder.</span></span><span class="sig-name descname"><span class="pre">websockets_with_custom_authorizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">auth_username</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auth_authorizer_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auth_authorizer_signature</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auth_password</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">websocket_proxy_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auth_token_key_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auth_token_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#awsiot.mqtt5_client_builder.websockets_with_custom_authorizer" title="Link to this definition">¶</a></dt>
<dd><p>This builder creates an <a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.Client" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.mqtt5.Client</span></code></a>, configured for an MQTT5 Client using a custom
authorizer through websockets. This function will set the username, port, and TLS options.</p>
<p>This function takes all <a class="reference internal" href="#module-awsiot.mqtt5_client_builder" title="awsiot.mqtt5_client_builder"><code class="xref py py-mod docutils literal notranslate"><span class="pre">common</span> <span class="pre">arguments</span></code></a>
described at the top of this doc, as well as…</p>
<dl class="field-list simple">
<dt class="field-odd">Keyword Arguments<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>auth_username</strong> (<cite>str</cite>) – The username to use with the custom authorizer.
If provided, the username given will be passed when connecting to the custom authorizer.
If not provided, it will check to see if a username has already been set (via username=”example”)
and will use that instead.  Custom authentication parameters will be appended as appropriate
to any supplied username value.</p></li>
<li><p><strong>auth_password</strong> (<cite>str</cite>) – The password to use with the custom authorizer.
If not provided, then no password will be sent in the initial CONNECT packet.</p></li>
<li><p><strong>auth_authorizer_name</strong> (<cite>str</cite>) – Name of the custom authorizer to use.
Required if the endpoint does not have a default custom authorizer associated with it.  It is strongly
suggested to URL-encode this value; the SDK will not do so for you.</p></li>
<li><p><strong>auth_authorizer_signature</strong> (<cite>str</cite>) – The digital signature of the token value in the <cite>auth_token_value</cite>
parameter. The signature must be based on the private key associated with the custom authorizer.  The
signature must be base64 encoded.
Required if the custom authorizer has signing enabled.</p></li>
<li><p><strong>auth_token_key_name</strong> (<cite>str</cite>) – Key used to extract the custom authorizer token from MQTT username query-string
properties.
Required if the custom authorizer has signing enabled.  It is strongly suggested to URL-encode
this value; the SDK will not do so for you.</p></li>
<li><p><strong>auth_token_value</strong> (<cite>str</cite>) – An opaque token value. This value must be signed by the private key associated with
the custom authorizer and the result passed in via the <cite>auth_authorizer_signature</cite> parameter.
Required if the custom authorizer has signing enabled.</p></li>
<li><p><strong>websocket_proxy_options</strong> (<a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/http.html#awscrt.http.HttpProxyOptions" title="(in awscrt)"><em>awscrt.http.HttpProxyOptions</em></a>) – Deprecated,
for proxy settings use <cite>http_proxy_options</cite> (described in
<a class="reference internal" href="#module-awsiot.mqtt5_client_builder" title="awsiot.mqtt5_client_builder"><code class="xref py py-mod docutils literal notranslate"><span class="pre">common</span> <span class="pre">arguments</span></code></a>)</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.Client" title="(in awscrt)"><em>Client</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="awsiot.mqtt5_client_builder.new_default_builder">
<span class="sig-prename descclassname"><span class="pre">awsiot.mqtt5_client_builder.</span></span><span class="sig-name descname"><span class="pre">new_default_builder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#awsiot.mqtt5_client_builder.new_default_builder" title="Link to this definition">¶</a></dt>
<dd><p>This builder creates an <a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.Client" title="(in awscrt)"><code class="xref py py-class docutils literal notranslate"><span class="pre">awscrt.mqtt5.Client</span></code></a>, without any configuration besides the default TLS context options.</p>
<p>This requires setting the client details manually by passing all the necessary data
in <a class="reference internal" href="#module-awsiot.mqtt5_client_builder" title="awsiot.mqtt5_client_builder"><code class="xref py py-mod docutils literal notranslate"><span class="pre">common</span> <span class="pre">arguments</span></code></a> to make a connection</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://awslabs.github.io/aws-crt-python/api/mqtt5.html#awscrt.mqtt5.Client" title="(in awscrt)"><em>Client</em></a></p>
</dd>
</dl>
</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">awsiot.mqtt5_client_builder</a><ul>
<li><a class="reference internal" href="#awsiot.mqtt5_client_builder.mtls_from_path"><code class="docutils literal notranslate"><span class="pre">mtls_from_path()</span></code></a></li>
<li><a class="reference internal" href="#awsiot.mqtt5_client_builder.mtls_from_bytes"><code class="docutils literal notranslate"><span class="pre">mtls_from_bytes()</span></code></a></li>
<li><a class="reference internal" href="#awsiot.mqtt5_client_builder.mtls_with_pkcs11"><code class="docutils literal notranslate"><span class="pre">mtls_with_pkcs11()</span></code></a></li>
<li><a class="reference internal" href="#awsiot.mqtt5_client_builder.mtls_with_pkcs12"><code class="docutils literal notranslate"><span class="pre">mtls_with_pkcs12()</span></code></a></li>
<li><a class="reference internal" href="#awsiot.mqtt5_client_builder.mtls_with_windows_cert_store_path"><code class="docutils literal notranslate"><span class="pre">mtls_with_windows_cert_store_path()</span></code></a></li>
<li><a class="reference internal" href="#awsiot.mqtt5_client_builder.websockets_with_default_aws_signing"><code class="docutils literal notranslate"><span class="pre">websockets_with_default_aws_signing()</span></code></a></li>
<li><a class="reference internal" href="#awsiot.mqtt5_client_builder.websockets_with_custom_handshake"><code class="docutils literal notranslate"><span class="pre">websockets_with_custom_handshake()</span></code></a></li>
<li><a class="reference internal" href="#awsiot.mqtt5_client_builder.direct_with_custom_authorizer"><code class="docutils literal notranslate"><span class="pre">direct_with_custom_authorizer()</span></code></a></li>
<li><a class="reference internal" href="#awsiot.mqtt5_client_builder.websockets_with_custom_authorizer"><code class="docutils literal notranslate"><span class="pre">websockets_with_custom_authorizer()</span></code></a></li>
<li><a class="reference internal" href="#awsiot.mqtt5_client_builder.new_default_builder"><code class="docutils literal notranslate"><span class="pre">new_default_builder()</span></code></a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="mqtt_connection_builder.html"
                          title="previous chapter">awsiot.mqtt_connection_builder</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="iotidentity.html"
                          title="next chapter">awsiot.iotidentity</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/awsiot/mqtt5_client_builder.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="iotidentity.html" title="awsiot.iotidentity"
             >next</a> |</li>
        <li class="right" >
          <a href="mqtt_connection_builder.html" title="awsiot.mqtt_connection_builder"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">AWS IoT Device SDK v2 for Python  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">awsiot.mqtt5_client_builder</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2026, Amazon Web Services, Inc.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    </div>
  </body>
</html>